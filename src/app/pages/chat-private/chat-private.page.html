<ion-header>
  <ion-toolbar>
    <ion-back-button slot="start" defaultHref="/select-room"></ion-back-button> <!--1-->
    <ion-title>
      chating: {{(chatSelectionServicve.selectedUserOrGroup$|async).name}} <!--2-->
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row *ngFor="let message of messagesService.messages$ |async">

      <ion-col size="9" *ngIf="message.from.name !== user.name" class="message"
               [ngClass]="{
                 'my_message': message.from.name === user.name,
                 'other_message': message.from.name !== user.name
                }"> <!--3-->
        <span>{{ message.content.text }}</span>
        <div class="time">{{message.created | date:'dd.MM hh:MM'}}</div>
      </ion-col>

      <ion-col offset="3" size="9" *ngIf="message.from?.name === user.name" class="message"
               [ngClass]="{
                 'my_message': message.from.name === user.name,
                 'other_message': message.from.name !== user.name
               }">
        <span>{{ message.content.text }}</span>
        <div class="time">{{message.created | date:'dd.MM hh:mm'}}</div>
      </ion-col>

    </ion-row>
  </ion-grid>

</ion-content>

<ion-footer>
  <ion-item>
    <ion-input type="text" placeholder="Message..." [(ngModel)]="message"></ion-input>
    <ion-button fill="clear" color="primary" slot="end" (click)="sendMessage()" [disabled]="!message" size="large">
      <ion-icon name="send"></ion-icon>
    </ion-button>
  </ion-item>
</ion-footer>
